@import 'utils';
@import 'mixins';
@import 'variables';

#agenda {
  margin: 0 0 108px 0;
  .title-wrapper {
    margin: 0 auto 16px auto;
  }
  .content-wrapper {
    @include Flex(column, flex-start, center);
    .control-bar {
      @include Flex(row, center, flex-start);
      .control-unit {
        position: relative;
        opacity: 0.7;
        letter-spacing: -0.45px;
        &:first-of-type {
          margin-right: 32px;
        }
        &.active {
          color: $color-cyan;
          &:after {
            position: absolute;
            left: 50%;
            bottom: 0;
            @include diamond($color: $color-cyan, $translate: (-50%, 100%));
          }
        }
        &:hover {
          cursor: pointer;
          color: $color-cyan;
        }
      }
    }

    .list-wrapper {
      width: 100%;
      @include Flex(column, flex-start, center);
      .prelude {
        margin: 34px 0 0 0;
        width: 100%;
        .agenda-unit {
          .time {
            line-height: 51px;
          }
          .program {
            .content {
              padding: 12px 16px;
              border: 1px solid rgba(255, 255, 255, 0.40);

              .person-unit {
                background: $bg-black;
                .info-wrapper {
                  &.static {
                    margin-bottom: 0 !important;
                    margin-top: 12px;
                    font-size: 16px;
                  }
                }
              }
            }
          }
        }
        .agenda-unit:nth-child(3) {
          .program {
            .content {
              width: 290px;
              padding-bottom: 50px;
              .people-wrapper {
                @include Flex(row, space-between, center);
                background: $bg-black;
                transform: translate(-53%, 0);
                white-space: nowrap;
                overflow: visible;
                .person-unit {
                  position: relative;
                  margin-top: 0 !important;
                  display: inline-block;
                  margin-right: 50px;
                  .avatar-wrapper {
                    .avatar {
                      position: static;
                      .info {
                        max-width: 100%;
                        left: 0;
                        top: 150px;
                        transform: translate(18%, 0);
                        font-size: 16px;
                        .job {
                          width: 160px;
                          white-space: normal;
                        }
                      }
                    }
                  }
                }
                &.brief {
                  transform: translate(0, 0);
                  margin-bottom: -32px;
                  .person-unit {
                    margin-right: 0;
                  }
                  .info-wrapper {
                    margin-left: 0 !important;
                    margin-right: 8px;
                    width: 176px;
                    white-space: normal;
                    .prefix {
                      display: none;
                    }
                  }
                }
              }
            }
          }
        }
        .separator:last-of-type {
          margin-bottom: 0;
        }
        & + .slashes-wrapper {
          transform: translate(-50%, 0);
          .separator {
            order: -1;
            &:after {
              @include diamond($translate: (-45%, 150%));
            }
          }
        }
      }
      .agenda-unit {
        @include Flex(row, center, flex-start);
        font-size: 18px;
        width: 100%;
        .time {
          display: inline-block;
          width: 50%;
          flex-shrink: 0;
          padding-right: 12px;
          text-align: end;
          letter-spacing: -0.75px;
          font-family: DIN-Regular;
        }
        .program {
          display: inline-block;
          width: 50%;
          .content {
            display: inline-block;
            .type {
              color: $color-cyan;
            }
            .people-wrapper {
              .person-unit {
                position: relative;
                @include Flex(row, flex-start, flex-end);
                opacity: 0.9;
                letter-spacing: -0.39px;
                font-size: 14px;

                $gap-left: 36px;
                .avatar-wrapper {
                  position: relative;
                  left: -26px;
                  margin-right: -$gap-left;
                  .avatar {
                    $avatar-size: 146px;
                    width: $avatar-size;
                    height: $avatar-size;
                    @include bg-img();
                    background-color: $bg-black;
                    .info {
                      position: absolute;
                      display: block;
                      overflow: visible;
                      bottom: 0;
                      left: $avatar-size - 30px;
                      div {
                        white-space: nowrap;
                      }
                    }
                  }
                }

                .info-wrapper {
                  white-space: nowrap;
                  z-index:10;
                  &.static {
                    margin-left: $gap-left;
                    margin-bottom: -14px;
                    .name, .job {
                      display: inline-block;
                      margin-right: 10px;
                    }
                  }
                }
                &:not(:first-child) {
                  margin-top: 16px;
                }
              }
            }
          }
        }
      }

      .separator {
        position: relative;
        left: 1px;
        content: '';
        display: block;
        width: 1px;
        height: 22px;
        margin: 5px auto;
        background: rgba(255, 255, 255, 0.40);
      }

      .slashes-wrapper {
        @include slash-bar($color: $border-grey);
        .separator {
          transform: translate(-8px, 4px);
        }
      }

      .rhapsodies {
        @include Flex(row, center, flex-start);
        margin-left: -160px;
        .rhapsody-unit {
          @include Flex(column, flex-start, center);
          width: 418px;
          .tag {
            position: relative;
            z-index: 10;
            transform: translate(-56px, 10px);
            width: 152px;
            padding: 2px 0 2px 8px;
            background: linear-gradient(to right, #003CB4, #EB32B4);
            font-size: 23px;
            letter-spacing: -0.66px;
            &:after {
              $height: 36px;
              @include triangle($height, #EB32B4, right);
              display: inline-block;
              position: absolute;
              top: 0;
              right: -$height/2;
            }
            & + .separator {
              height: 32px;
            }
          }

          .slashes-wrapper {
            transform: translate(50%, 0);
          }

          &:last-of-type {
            .separator:last-of-type {
              position: relative;
              height: 78px;
              &:after {
                position: absolute;
                bottom: 0;
                @include diamond($translate: (-45%, 100%));
              }
            }
          }

          &:not(:first-child) {
            .tag {
              &:before {
                z-index: -1;
                content: '';
                display: inline-block;
                position: absolute;
                transform: translate(-30px, 14px);
                width: 21px;
                height: 1382px;
                border-left: 1px solid rgba(255, 255, 255, 0.40);
                border-top: 1px solid rgba(255, 255, 255, 0.40);
              }
            }

            .person-unit {
              .info {
                left: 130px !important;
                bottom: -4px !important;
              }
            }
          }
        }
      }
    }
  }
}
